{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport { useState, useEffect } from \"react\";\nimport Terms from \"../components/console_terms\";\nimport axios from \"axios\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Select from \"@material-ui/core/Select\";\nimport jsCookie from \"js-cookie\";\nimport Head from \"next/head\";\nimport Searchbar from \"../components/search\";\nimport Button from \"@material-ui/core/Button\";\nimport Icon from \"@material-ui/core/Icon\";\nimport Box from \"@material-ui/core/Container\";\nimport { useStyles } from \"../utils/style\";\nexport default function Console(team) {\n  const classes = useStyles();\n  let {\n    0: teamSelected,\n    1: setTeams\n  } = useState([]);\n  let teamCol = team.team.team;\n\n  const handleChange = event => {\n    setTeams(event.target.value);\n  };\n\n  function teamMenu(teamCol) {\n    if (teamCol != null) {\n      teamCol.map((team, i) => {\n        return __jsx(MenuItem, {\n          style: {\n            color: \"white\",\n            backgroundColor: \"white\"\n          },\n          value: team.teams.team_name\n        }, team.teams.team_name);\n      });\n    } else {\n      return __jsx(MenuItem, {\n        value: \"Self\"\n      }, \"Self\");\n    }\n  }\n\n  useEffect(() => {\n    jsCookie.set(\"team\", teamSelected);\n  }, [teamSelected]);\n  return __jsx(React.Fragment, null, __jsx(Terms, null), __jsx(Head, null, __jsx(\"link\", {\n    rel: \"stylesheet\",\n    href: \"https://fonts.googleapis.com/icon?family=Material+Icons\"\n  })), __jsx(Box, {\n    className: classes.box\n  }, __jsx(Select, {\n    variant: \"outlined\",\n    onChange: handleChange,\n    className: classes.select\n  }, teamMenu(teamCol)), __jsx(Searchbar, null), __jsx(\"br\", null), __jsx(Button, {\n    className: classes.btn,\n    href: \"./addword\"\n  }, __jsx(Icon, {\n    style: {\n      fontSize: 40\n    }\n  }, \"add_circle\"))));\n}\n\nconst fetchData = async (query, auth) => await axios.get(`/api/console/${query.def}`, {\n  headers: {\n    auth: auth\n  }\n}).then(res => ({\n  team: res.data\n})).catch(() => ({\n  error: true\n}));\n\nexport async function getServerSideProps(context) {\n  let cookie = context.req.headers.cookie;\n  let auth = cookie.split(\"; \").find(row => row.startsWith(\"auth\")).split(\"=\")[1];\n  const teams = await fetchData(context.query, auth);\n  return {\n    props: {\n      team: teams\n    }\n  };\n}","map":{"version":3,"sources":["/Users/salahabdallah/Desktop/Dev/Jargon/pages/console.js"],"names":["useState","useEffect","Terms","axios","MenuItem","Select","jsCookie","Head","Searchbar","Button","Icon","Box","useStyles","Console","team","classes","teamSelected","setTeams","teamCol","handleChange","event","target","value","teamMenu","map","i","color","backgroundColor","teams","team_name","set","box","select","btn","fontSize","fetchData","query","auth","get","def","headers","then","res","data","catch","error","getServerSideProps","context","cookie","req","split","find","row","startsWith","props"],"mappings":"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","sourcesContent":["import { useState, useEffect } from \"react\";\nimport Terms from \"../components/console_terms\";\nimport axios from \"axios\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Select from \"@material-ui/core/Select\";\nimport jsCookie from \"js-cookie\";\nimport Head from \"next/head\";\n\nimport Searchbar from \"../components/search\";\nimport Button from \"@material-ui/core/Button\";\nimport Icon from \"@material-ui/core/Icon\";\nimport Box from \"@material-ui/core/Container\";\nimport { useStyles } from \"../utils/style\";\n\nexport default function Console(team) {\n  const classes = useStyles();\n  let [teamSelected, setTeams] = useState([]);\n\n  let teamCol = team.team.team;\n\n  const handleChange = (event) => {\n    setTeams(event.target.value);\n  };\n\n  function teamMenu(teamCol) {\n    if (teamCol != null) {\n      teamCol.map((team, i) => {\n        return (\n          <MenuItem\n            style={{ color: \"white\", backgroundColor: \"white\" }}\n            value={team.teams.team_name}\n          >\n            {team.teams.team_name}\n          </MenuItem>\n        );\n      });\n    } else {\n      return <MenuItem value=\"Self\">{\"Self\"}</MenuItem>;\n    }\n  }\n\n  useEffect(() => {\n    jsCookie.set(\"team\", teamSelected);\n  }, [teamSelected]);\n\n  return (\n    <>\n      <Terms></Terms>\n      <Head>\n        <link\n          rel=\"stylesheet\"\n          href=\"https://fonts.googleapis.com/icon?family=Material+Icons\"\n        />\n      </Head>\n      <Box className={classes.box}>\n        <Select\n          variant={\"outlined\"}\n          onChange={handleChange}\n          className={classes.select}\n        >\n          {teamMenu(teamCol)}\n        </Select>\n        <Searchbar></Searchbar>\n        <br />\n        <Button className={classes.btn} href={\"./addword\"}>\n          <Icon style={{ fontSize: 40 }}>add_circle</Icon>\n        </Button>\n      </Box>\n    </>\n  );\n}\n\nconst fetchData = async (query, auth) =>\n  await axios\n    .get(`/api/console/${query.def}`, { headers: { auth: auth } })\n    .then((res) => ({\n      team: res.data,\n    }))\n    .catch(() => ({\n      error: true,\n    }));\n\nexport async function getServerSideProps(context) {\n  let cookie = context.req.headers.cookie;\n\n  let auth = cookie\n    .split(\"; \")\n    .find((row) => row.startsWith(\"auth\"))\n    .split(\"=\")[1];\n\n  const teams = await fetchData(context.query, auth);\n\n  return {\n    props: {\n      team: teams,\n    },\n  };\n}\n"]},"metadata":{},"sourceType":"module"}
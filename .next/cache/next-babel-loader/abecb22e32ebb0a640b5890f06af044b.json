{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport Appbar from \"../components/appbar\";\nimport { useState, useEffect } from \"react\";\nimport router from \"next/router\";\n\nfunction MyApp(_ref) {\n  var Component = _ref.Component,\n      pageProps = _ref.pageProps;\n\n  function removeCookies() {\n    var res = document.cookie;\n    var multiple = res.split(\";\");\n\n    for (var i = 0; i < multiple.length; i++) {\n      var key = multiple[i].split(\"=\");\n      document.cookie = key[0] + \" =; expires = Thu, 01 Jan 1970 00:00:00 UTC\";\n    }\n  }\n\n  var handleLogout = function handleLogout() {\n    removeCookies();\n    setLoggedUser(\"\");\n    setStatus([false]);\n    router.push(\"/\");\n    router.reload();\n  };\n\n  var _useState = useState(null),\n      loggedinuser = _useState[0],\n      setLoggedUser = _useState[1];\n\n  var _useState2 = useState(false),\n      loggedin = _useState2[0],\n      setStatus = _useState2[1];\n\n  useEffect(function () {\n    var user = null;\n\n    if (document.cookie.length > 0) {\n      if (document.cookie.includes(\"; \")) {\n        user = document.cookie.split(\"; \").find(function (row) {\n          return row.startsWith(\"username\");\n        }).split(\"=\")[1];\n      }\n    }\n\n    if (user != null) {\n      setLoggedUser(user);\n      setStatus(true);\n    }\n  }, [loggedinuser, loggedin]);\n  return __jsx(React.Fragment, null, __jsx(Appbar, {\n    user: loggedinuser,\n    loggedInState: loggedin,\n    logout: handleLogout\n  }, \" \"), __jsx(Component, pageProps));\n}\n\nexport default MyApp;","map":null,"metadata":{},"sourceType":"module"}